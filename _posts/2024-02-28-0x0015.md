클라이언트와 서버는 어떻게 정보를 주고 받나?  
웹 서버와 데이터베이스는 어떻게 소통하나?  
이 일련의 과정이 웹 아키텍쳐의 주요한 내용이다.  

자, 사용자인 클라이언트에서부터 시작해보자.  
클라이언트는 웹 브라우저를 이용해 웹 서버에 접속을 하려고 한다.  
먼저, URL을 입력한다.  
www.naver.com을 입력했다고 하자.  
그러면 바로 네이버에 접속이 되는가?  
우리 눈에 보이지는 않지만, 여기에 DNS라 불리는 도메인 네임 시스템이 동작한다.  
우리가 접속을 한다고 하는 건, 온라인 상의 주소를 찾아감을 의미한다.  
이 주소는 IP라는 이름으로 xxx.xxx.xxx.xxx 라는 12개의 숫자로 이루어져 있다.  
사람은 기억을 할 때, 이런 단순한 숫자의 배열들을 기억하긴 어렵다.  
대신 회사의 이름이라든가 상표 등 기억하기 쉬운 명칭으로 뇌에 자리잡는다.  
그래서 이를 중재해줄 역할을 DNS가 한다.  
영어로 된 이름을 숫자로 된 주소로 바꿔준다.  

이 과정은 3가지를 참조해서 이루어진다.  
가장 먼저는 클라이언트가 해당 주소를 자주 방문했다면,  
DNS캐시의 형태로 컴퓨터에 저장되어 있으며, 그 정보는 cmd에서 ipconfig /displaydns를 입력하는 알 수 있다.  
이 캐시정보에 없다면, hosts 파일을 참조하는데, 이는 사용자가 해당 파일에 도메인 이름과 ip 주소를 적어둔 것이다.  
그런데 일반 사용자 중 누가 이렇게 주소를 적어두는가?  
그래서 보통 마지막 단계인 DNS서버에 해당 도메인의 ip주소를 물어보게 된다.  
클라이언트가 DNS서버에 이 주소에 대한 ip주소를 물어보면,  
해당 도메인서버는 이를 알고 있을만한 주체를 찾아 재귀적(recursive) 질의를 던진다.  
"너 이 주소 알아?" 아.. 모르는구나 "그럼 너는 아니?" 이런 식으로 도메인의 계층 구조를 하나하나 넘어가며 물어본다.  
그렇게 해서 해당 도메인에 대한 ip주소를 알게되면 클라이언트에게 알려준다.  

그렇게 클라이언트는 웹 서버의 주소를 알게되고, 이들은 소통을 한다.  
무엇으로? HTTP라는 통신 규약을 가지고 한다.  
3-way-handshake 라는 방식인데, 3번 악수하듯 주고 받는다는 의미이다.  
무엇을 주고 받는가? HTTP에서 처음 시작을 알리는 SYN이라는 녀석을 웹 서버에게 클라이언트가 보낸다. SYN은 syncronize라는 뜻으로 동기화, 즉 하나되어 소통해보자는 의미이다.  
그래서 클라이언트가 웹 서버에게 소통을 시작하자는 의미로 SYN을 보내고, 웹 서버는 이에 대한 응답으로 SYN+ACK를 보낸다.  
SYN 하자고? OK 알겠어 그렇게 하자는 의미의 ACK를 보내는 것이다.  
ACK는 acknowledge의 의미로 인식했다 혹은 인정한다는 뜻이다.  
그리고 웹 서버로부터 응답받은, 클라이언트는 ACK를 보낸다.  
웹 서버가 클라이언트와 소통을 승낙한 것에 대한 확인했음을 알리는 메세지이다.  
이렇게 주거니 받거니 세 번을 하게 되면 HTTP를 이용한 소통이 시작된다.  
